### 양방향 연관관계와 연관관계의 주인 1 - 기본
- 어렵다.... 어렵다... 어렵다...
- 객체랑 테이블 패러다임이 다르다. 객체 참조 및 조인

#### 양방향 매핑
- Member -> Team, Team -> Member
- 테이블 연관 관계는 방향키가 따로 없다. 외래키로...
- 문제는 객체 -> Member에는 Team을 갖는데, Team에서는 Member로 갈 수 있으려면 List member를 추가해줘야 한다. 객체는 member, team 둘 다 세팅해야 한다. 이것이 바로 객체 참조와 테이블 외래 키의 차이!

#### 양방향 매퓌이잉
- Team -> Member는 1:N
- @OneToMany(mappedBy = "team") // mappedBy: 지금 1:N 매핑해서 뭐랑 연결되있는지, (변수명) = member에는 어떤 걸 변수명으로 참조되고 있는지!
- 객체는 가급적 단방향이 좋다. 양방향은 신경쓸 게 많다. (뒤에 설명)
- mappedBy가 왜 필요할까?
    - JPA의 멘탈붕괴 난이도
    - 처음 이해하기 어렵다
    - 객체와 테이블간에 연관관계를 맺는 차이를 이해해야 한다.
- 객체와 테이블이 관계를 맺는 차이
    - 객체 연관관계 = 2개
      - 회원 -> 팀 연관관계 1개 (단방향)
      - 팀 -> 회원 연관관계 1개 (단방향)
    - 테이블 연관관계 = 1개
      - 회원 <-> 팀 연관관계 1개 (양방향)
- 객체의 양방향 관계
    - 객체의 양방향 관계는 사실 양방향 관계가 아니라 서로 다른 단방향 관계 2개다.
    - 객체를 양방향으로 참조하려면 단방향 연관관계를 2개 만들어야 한다.
- 테이블의 양방향 연관관계
    - 테이블은 외래 키 하나로 두 테이블의 연관관계를 관리
    - 외래 키 하나로 양방향 연관 관계 갖는다 (양쪽 조인 가능)
- 둘 중 하나로 외래 키를 관리해야 한다.
    - 객체 양방향(단방향 2개)를 어떤 거를 기준으로 바꿔야 하나?
      - Member를 기준으로 team을 바꾸는지
      - Team을 기준으로 Member를 바꾸는지
- 연관관계의 주인
    - 양방향 매핑 규칙 
      - 객체의 두 관계 중 하나를 연관관계의 주인으로 지정 (Member든 Team이든)
      - **연관관계의 주인만이 외래 키를 관리(등록, 수정)**
      - **주인이 아닌쪽은 읽기만 가능** -> 갑 변경 불가능, 값을 조회만 가능
      - 주인은 mappedBy 속성 사용X
      - 주인이 아니면 mappedBy 속성으로 주인 지정
- 누구를 주인으로 ?
    - 외래 키가 있는 곳을 주인으로 정하자! (김영한님 가이드)
    - Member.team이 연관관계의 주인
    - 1:N에서 N쪽이 연관관계의 주인이 되면 된다! (성능 이슈 없고 설계가 깔끔하게 된다.)
    