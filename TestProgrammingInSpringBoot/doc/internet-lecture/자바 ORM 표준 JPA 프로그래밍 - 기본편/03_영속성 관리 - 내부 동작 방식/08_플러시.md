### 플러시
- 영속성 컨텍스트의 변경 내용을 데이터베이스에 반영
- DB 커밋될 때 flush가 일어난다.
- 플러시 발생
    - 변경 감지
    - 수정된 엔티티 쓰기 지연 SQL 저장소에 등록
    - 쓰기 지연 SQL 저장소의 쿼리르 데이터베이스에 전송 (등록, 수정, 삭제 쿼리)
- 영속성 컨텍스트를 플러시하는 방법
    - 직접 쓸일은 거의 없다.
    - em.flush() - 직접 호출 // 1차 캐시는 지워지지 않는다. 쓰기 지연 SQL 저장소에 것들이 DB에 반영이 되는 과정
    - 트랜잭션 커밋 - 플러시 자동 호출
    - JPQL 쿼리 실행 - 플러시 자동 호출
- 플러시 모드 옵션
    - ex) em.setFlushMode(FlushModeType.COMMIT);
    - FlushModeType.AUTO: 커밋이나 쿼리 실행 시 플러시 (기본 값) (권장) 
    - FlushModeType.COMMIT: 커밋할 때만 플러시 (쿼리 실행 시 플러시 안함)
- 우리 플러시는요!
    - 영속성 컨텍스트를 비우지 않음
    - 영속성 컨텍스트의 변경 내용을 데이터베이스에 동기화
    - 트랜잭션이라는 작업 단위가 중요 -> 커밋 직전에만 동기화 하면 된다.    