### 영속성 컨텍스트 1
- 영속성 관리
    - JPA 내부 구조
- JPA에서 가장 중요한 2가지
    - 객체와 관계형 데이터베이스 매핑 (ORM)
    - 영속성 컨텍스트 -> JPA를 이해하려면 영속성 컨텍스트를 이해 해야한다.    
- 영속성 컨텍스트란?
    - JPA 이해하는데 가장 중요한 용어
    - "엔티티를 영구 저장하는 환경"이라는 뜻
    - EntityManager.persist(entity);
      - 사실은 DB 저장이 아니라, 영속성 컨텍스트를 통해 엔티티를 영속화한다는 뜻.
      - .persist는 entity를 영속성 컨텍스트에 저장한다. (DB가 아니라)
    - 논리적인 개념.
    - 눈에 보이지 않는다.
    - 엔티티 매니저를 통해 영속성 컨텍스트에 접근
    - J2SE 환경: 엔티티 매니저와 영속성 컨텍스트가 1:1
      - EntityManager가 생성되면 그 안에 PersistenceContext라는 공간이 생긴다 (1:1)
    - J2EE SpringFraemwork와 같은 컨테이너 환경 (나중에 강의)
      - 엔티티 매니저와 영속성 컨텍스트가 N:1 
- 엔티티의 생명주기
    - 비영속 (new/transient)
      - 영속성 컨텍스트와 전혀 관계가 없는 새로운 상태
    - 영속 (managed)
      - 영속성 컨텍스트에 관리되는 상태 
      - 트랜잭션을 커밋하는 시점에 영속성 컨텍스트에 있는 entity가 DB에 쿼리를 날린다.
    - 준영속 (detached)
      - 영속성 컨텍스트에 저장되었다가 분리된 상태
    - 삭제 (removed)
      - 객체 삭제된 상태
- 영속성 컨텍스트의 이점
    - 1차 캐시
    - 동일성 보장
    - 트랜잭션을 지원하는 쓰기 지연
    - 변경 감지
    - 지연 로딩
    